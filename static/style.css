/* =========================
   static/style.css  (修正版)
   ※ レイアウトは変更しません
   ========================= */

/* Reset (最小限) */
* { box-sizing: border-box; }
html, body { margin: 0; padding: 0; }

/* フォント & ベース色（index.html内の<style>が後勝ち） */
:root{
  /* index.html側と同名の変数を用意（万一inlineが読み込まれない時の保険） */
  --text-dark:#111827;
  --muted:#6b7280;
  --card:#ffffff;
  --border:#e5e7eb;
  --pastel-bg:#f5f3ff;
  --pastel-accent:#e9d5ff;
  --pastel-accent-strong:#c4b5fd;
  --primary:#a78bfa;
  --primary-strong:#7c3aed;

  /* 以前の壊れた変数（例: --danger-bg:#||||）を修正して定義 */
  --success:#22c55e;
  --success-bg:#eafaf0;
  --danger:#ef4444;
  --danger-bg:#fee2e2;
}

body{
  font-family: system-ui, -apple-system, Segoe UI, Roboto, "Hiragino Kaku Gothic ProN", Meiryo, sans-serif;
  line-height: 1.6;
  color: var(--text-dark);
  background: #fff; /* 黒背景化してしまう古い指定を打ち消し */
}

/* コンテナ（index.html側と同値。後勝ちなので衝突しません） */
.container{
  max-width: 980px;
  margin: 24px auto;
  padding: 0 16px;
}

/* カード */
.card{
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 16px;
}

/* 行レイアウトの補助（フレックス方向のみ） */
.row{
  display: flex;
  gap: 8px;
  align-items: center;
  flex-wrap: wrap;
}

/* テキスト */
.muted{ color: var(--muted); font-size: 13px; }
.badge{
  display: inline-block;
  padding: 2px 6px;
  border: 1px solid var(--pastel-accent-strong);
  border-radius: 6px;
  font-size: 12px;
  color: #4b5563;
  background: #faf5ff;
}

/* 見出し（index側のh1指定と同値・干渉しない） */
h1{ margin-bottom: 8px; }

/* フォーム要素：白背景＆濃色文字を強制（可読性の担保） */
label{ font-size: 14px; color: #374151; display: block; margin-bottom: 4px; }

select,
input[type="text"],
textarea{
  width: 100%;
  padding: 8px;
  border: 1px solid #cbd5e1;
  border-radius: 10px;
  background: #fff;           /* 黒背景化対策 */
  color: var(--text-dark);     /* 白文字固定の古い指定を上書き */
  outline: none;
}

textarea{ min-height: 120px; }

/* プレースホルダーの可読性 */
::placeholder{ color: #9aa3af; }

/* Safari/Firefoxでのselect矢印・配色崩れ対策（見た目は現状キープ） */
select{
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
  background-clip: padding-box;
}

/* フォーカス（控えめな枠線に） */
select:focus,
input[type="text"]:focus,
textarea:focus{
  border-color: var(--primary-strong);
  box-shadow: 0 0 0 2px rgba(124, 58, 237, 0.15);
}

/* ボタン（index側と整合。!important は使わない） */
.btn{
  padding: 10px 16px;
  border-radius: 10px;
  border: 1px solid var(--primary-strong);
  background: var(--primary);
  color: #fff;
  cursor: pointer;
}
.btn:hover{ background: var(--primary-strong); }
.btn.secondary{
  background: #fff;
  color: var(--primary-strong);
  border: 1px solid var(--primary-strong);
}

/* 出力表示用pre */
pre{
  background: var(--pastel-bg);
  color: var(--text-dark);
  padding: 12px;
  border-radius: 10px;
  border: 1px solid var(--pastel-accent-strong);
  overflow-x: auto;
}

/* ヒント（details/summary） */
details.hints{
  background: var(--pastel-accent);
  border: 1px solid var(--pastel-accent-strong);
  border-radius: 12px;
  padding: 10px 14px;
}
details.hints > summary{
  cursor: pointer;
  font-weight: 600;
  color: #4c1d95;
  list-style: none;
}
details.hints > summary::-webkit-details-marker{ display: none; }

/* ---------- ここから下は「意図せぬ全体反転」を防ぐ保護 ---------- */

/* 以前のテーマ残骸で、全体をダークにしてしまう指定の無効化 */
html.dark body,
body.dark,
[data-theme="dark"] body{
  background: #fff;
  color: var(--text-dark);
}

/* aタグの色だけ極端に薄くなる指定の無効化 */
a{ color: inherit; text-decoration: none; }
a:hover{ text-decoration: underline; }

/* グローバル * セレクタでの color/background 強制を想定して打ち消し */
body, select, input, textarea, button, pre, .card{
  background-image: none;
}

/* 余計な !important で白文字固定される事故を緩和（強度を抑えた再指定） */
select, input, textarea, button{
  color: var(--text-dark);
}

/* 印刷時（オプション：背景色を落として読みやすく） */
@media print{
  body{ background: #fff; }
  .card{ box-shadow: none; }
}
