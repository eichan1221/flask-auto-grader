:root{
  --bg1:#fdf0ff; --bg2:#f0fbff;
  --ink:#1f2937; --muted:#6b7280;
  --brand:#c084fc; --brand-strong:#a855f7;
  --accent:#f9a8d4; --accent-strong:#f472b6;
  --ok:#22c55e; --warn:#f59e0b; --err:#ef4444;
  --card:#ffffff; --border:#e5e7eb; --shadow:rgba(0,0,0,0.08);
}
*{box-sizing:border-box}
html,body{margin:0;padding:0;color:var(--ink);font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Noto Sans JP",sans-serif;background:linear-gradient(180deg,var(--bg1),var(--bg2))}
header{position:sticky;top:0;z-index:10;background:rgba(255,255,255,0.75);backdrop-filter:saturate(180%) blur(8px);border-bottom:1px solid var(--border)}
.wrap{max-width:1100px;margin:0 auto;padding:16px}
.row{display:grid;grid-template-columns:1fr 1fr;gap:16px}
@media (max-width:900px){.row{grid-template-columns:1fr}}
.card{background:var(--card);border:1px solid var(--border);border-radius:16px;box-shadow:0 6px 20px var(--shadow);padding:16px}
h1{font-size:20px;margin:4px 0}
h2{font-size:18px;margin:8px 0 12px}
h3{font-size:15px;margin:10px 0 6px}
label{font-size:13px;color:var(--muted)}
input[type=text], select, textarea{
  width:100%;border:1px solid var(--border);border-radius:12px;padding:10px 12px;font-size:14px;background:#fff
}
textarea{min-height:120px;resize:vertical}
.flex{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
.flex-col{display:flex;gap:8px;flex-direction:column}
.btn{
  border:1px solid var(--border);background:#fff;border-radius:999px;padding:8px 14px;font-weight:600;font-size:14px;cursor:pointer
}
.btn.brand{background:var(--brand);border-color:var(--brand);color:#fff}
.btn.ghost{background:transparent}
.btn.warn{background:var(--warn);border-color:var(--warn);color:#fff}
.btn.err{background:var(--err);border-color:var(--err);color:#fff}
.tag{display:inline-block;padding:2px 8px;border-radius:999px;border:1px solid var(--border);font-size:12px;color:#374151;background:#fff}
.toolbar{display:flex;gap:8px;justify-content:space-between;align-items:center;flex-wrap:wrap}
.grid-2{display:grid;grid-template-columns:1fr 1fr;gap:12px}
@media (max-width:700px){.grid-2{grid-template-columns:1fr}}
.pill{
  display:inline-flex;align-items:center;gap:6px;border:1px solid var(--border);border-radius:999px;padding:6px 10px;background:#fff
}
.small{font-size:12px;color:var(--muted)}
.qcard{background:#fff;border:1px dashed var(--border);border-radius:12px;padding:12px}
.mono{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace}
.hint{background:#faf5ff;border:1px solid #eadcff;border-radius:12px;padding:10px}
.toast{position:fixed;right:16px;bottom:16px;background:#111827;color:#fff;padding:10px 14px;border-radius:12px;opacity:0;transform:translateY(12px);transition:.25s}
.toast.show{opacity:1;transform:none}
.danger{color:var(--err)}
.success{color:var(--ok)}
.muted{color:var(--muted)}
.divider{height:1px;background:var(--border);margin:8px 0}
.tab{padding:6px 10px;border:1px solid var(--border);border-radius:999px;background:#fff;cursor:pointer}
.tab.active{background:var(--brand);border-color:var(--brand);color:#fff}
.list{display:flex;flex-direction:column;gap:10px;max-height:340px;overflow:auto}
.item{border:1px solid var(--border);border-radius:12px;padding:10px;background:#fff}
.caps{font-variant:all-small-caps;letter-spacing:.04em}
.kbd{border:1px solid var(--border);padding:1px 6px;border-radius:6px;background:#fff;font-size:12px}

/* キーボード操作の可視フォーカス（見た目は通常時変化なし） */
:focus-visible{ outline:2px solid var(--brand-strong); outline-offset:2px; }

/* model 表示は非表示に */
#modelTag{ display:none; }

/* =========================
   使い方モーダル（小ウィンドウ）
   ========================= */
.modal{
  position:fixed; inset:0; z-index:999;
  display:none; align-items:center; justify-content:center;
  padding:16px;
  background:rgba(17,24,39,0.35);
  backdrop-filter: blur(4px);
}
.modal.show{ display:flex; }
.modal .panel{
  width:min(920px, 96vw);
  max-height:86vh;
  overflow:auto;
  background:var(--card);
  border:1px solid var(--border);
  border-radius:18px;
  box-shadow:0 16px 60px rgba(0,0,0,0.18);
  padding:16px;
}
.modal .panelHeader{
  display:flex; align-items:flex-start; justify-content:space-between; gap:12px;
  position:sticky; top:0; background:rgba(255,255,255,0.92);
  backdrop-filter:saturate(180%) blur(8px);
  border-bottom:1px solid var(--border);
  padding:8px 8px 10px;
  border-radius:14px;
}
.modal .panelTitle{ margin:0; font-size:18px; }
.modal .panelBody{ padding:10px 6px 6px; }
.callout{
  background:linear-gradient(180deg,#fff7ff,#f5fbff);
  border:1px solid var(--border);
  border-radius:14px;
  padding:10px 12px;
}
.step{
  border:1px solid var(--border);
  border-radius:14px;
  padding:12px;
  background:#fff;
}
.step h3{ margin:0 0 6px; font-size:15px; }
.step ol, .step ul{ margin:8px 0 0; padding-left:18px; line-height:1.75; }
.step .mini{ font-size:12px; color:var(--muted); margin-top:6px; }
